{
  "schema_version": "1.10",
  "routes": [
    {
      "id": "communities_list",
      "method": "GET",
      "path": "/communities",
      "handler": "listCommunities",
      "auth": true,
      "description": "List or search communities."
    },
    {
      "id": "communities_create",
      "method": "POST",
      "path": "/communities",
      "handler": "createCommunity",
      "auth": true,
      "description": "Create a community and federate the Group."
    },
    {
      "id": "communities_get",
      "method": "GET",
      "path": "/communities/:id",
      "handler": "getCommunity",
      "auth": true,
      "description": "Fetch community details."
    },
    {
      "id": "communities_update",
      "method": "PATCH",
      "path": "/communities/:id",
      "handler": "updateCommunity",
      "auth": true,
      "description": "Update a community."
    },
    {
      "id": "communities_channels_list",
      "method": "GET",
      "path": "/communities/:id/channels",
      "handler": "listChannels",
      "auth": true,
      "description": "List channels for a community."
    },
    {
      "id": "communities_channels_create",
      "method": "POST",
      "path": "/communities/:id/channels",
      "handler": "createChannel",
      "auth": true,
      "description": "Create a channel inside a community."
    },
    {
      "id": "communities_channels_update",
      "method": "PATCH",
      "path": "/communities/:id/channels/:channelId",
      "handler": "updateChannel",
      "auth": true,
      "description": "Update a channel."
    },
    {
      "id": "communities_channels_delete",
      "method": "DELETE",
      "path": "/communities/:id/channels/:channelId",
      "handler": "deleteChannel",
      "auth": true,
      "description": "Delete a channel (general channel is protected)."
    },
    {
      "id": "communities_leave",
      "method": "POST",
      "path": "/communities/:id/leave",
      "handler": "leaveCommunity",
      "auth": true,
      "description": "Leave a community."
    },
    {
      "id": "communities_direct_invite",
      "method": "POST",
      "path": "/communities/:id/direct-invites",
      "handler": "sendDirectInvite",
      "auth": true,
      "description": "Send a direct invite ActivityPub message."
    },
    {
      "id": "communities_members",
      "method": "GET",
      "path": "/communities/:id/members",
      "handler": "listCommunityMembers",
      "auth": true,
      "description": "List members of a community."
    },
    {
      "id": "communities_accept_invitation",
      "method": "POST",
      "path": "/communities/:id/invitations/accept",
      "handler": "acceptCommunityInvite",
      "auth": true,
      "description": "Accept a community invite."
    },
    {
      "id": "communities_decline_invitation",
      "method": "POST",
      "path": "/communities/:id/invitations/decline",
      "handler": "declineCommunityInvite",
      "auth": true,
      "description": "Decline a community invite."
    },
    {
      "id": "communities_reactions_summary",
      "method": "GET",
      "path": "/communities/:id/reactions-summary",
      "handler": "getCommunityReactions",
      "auth": true,
      "description": "Return reaction summaries for a community."
    }
  ]
}
