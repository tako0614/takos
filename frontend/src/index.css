@import "tailwindcss";

/* Light, clean base like Instagram */
:root {
  font-family:
    ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue,
    Arial, Noto Sans, Apple Color Emoji, Segoe UI Emoji;

  /* IG-like tokens */
  --bg: #ffffff;
  --bg-dark: #121212;
  --text: #262626;
  --text-muted: #8e8e8e;
  --hairline: #efefef;
  --divider: #dbdbdb;

  /* Brand gradient (use sparingly) */
  --ig-grad: conic-gradient(
    from 0deg,
    #405de6,
    #5851db,
    #833ab4,
    #c13584,
    #e1306c,
    #fd1d1d,
    #fcaf45,
    #405de6
  );

  /* Spacing */
  --space-1: 8px;
  --space-2: 12px;
  --space-3: 16px;
  --space-4: 24px;

  /* Radius & Icon */
  --radius-sm: 4px;
  --radius-md: 8px;
  --icon-size: 24px;

  /* Motion */
  --fast: 150ms;
  --ease: cubic-bezier(0.2, 0.8, 0.2, 1);
}

.dark {
  --bg: #0b0b0b;
  --text: #e5e5e5;
  --text-muted: #9ca3af; /* gray-400 */
  --hairline: #262626; /* neutral-800 */
  --divider: #303030;
}

/* Map commonly-used Tailwind utility classes to CSS variables in dark mode.
  This lets most components keep their existing utility classes while
  rendering correctly when the root has the `dark` class. Use !important
  to override compiled Tailwind rules where necessary. */
.dark .bg-white {
  background-color: var(--bg) !important;
}
.dark .bg-\[\#fafafa\], .dark .bg-\[\#fafafa\]\:focus {
  background-color: var(--bg) !important;
}
.dark .bg-gray-50 {
  background-color: var(--bg) !important;
}
.dark .bg-gray-100 {
  background-color: var(--hairline) !important;
}
.dark .bg-gray-900 {
  background-color: #000 !important;
}

.dark .text-gray-400,
.dark .text-gray-500,
.dark .text-gray-600 {
  color: var(--text-muted) !important;
}
.dark .text-gray-700 {
  color: var(--text) !important;
}

.dark .hover\:bg-gray-50:hover,
.dark .hover\:bg-gray-100:hover,
.dark .hover\:bg-\[\#fafafa\]:hover {
  background-color: var(--hairline) !important;
}

.dark .border {
  border-color: var(--divider) !important;
}

/* Inputs/selects that used light backgrounds */
.dark input.bg-\[\#fafafa\],
.dark select.bg-\[\#fafafa\],
.dark input.bg-gray-50,
.dark select.bg-gray-50 {
  background-color: var(--bg) !important;
  color: var(--text) !important;
}

/* Small utility mappings */
.dark .bg-gray-200 {
  background-color: var(--hairline) !important;
}
.dark .text-muted {
  color: var(--text-muted) !important;
}

html, body, #root {
  height: 100%;
  overscroll-behavior-y: contain;
}

body {
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Hide number spinners for cleaner inputs */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type="number"] {
  appearance: textfield;
  -moz-appearance: textfield;
}

/* Hairline utilities */
.hairline {
  border-color: var(--hairline) !important;
}
.divider {
  border-color: var(--divider) !important;
}
.text-muted {
  color: var(--text-muted);
}

/* Icon base */
.icon {
  width: var(--icon-size);
  height: var(--icon-size);
  stroke-width: 1.8;
}
.icon.active {
  fill: currentColor;
}

/* Story rainbow ring */
.story {
  position: relative;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  padding: 3px;
  background: var(--ig-grad);
}
.story > img, .story > .inner {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  display: block;
  background: var(--bg);
  padding: 2px;
}
.story.is-viewed {
  background: linear-gradient(#dbdbdb, #dbdbdb);
}

/* Feed card skeleton */
.card {
  background: var(--bg);
  border-bottom: 1px solid var(--hairline);
}
.card-header, .card-actions, .card-caption {
  padding: var(--space-2) var(--space-3);
}
.card-media img {
  display: block;
  width: 100%;
  height: auto;
}

/* Tab buttons */
.tab-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-bottom: 2px solid transparent;
  color: var(--text-muted);
  transition:
    color var(--fast) var(--ease),
    border-color var(--fast) var(--ease);
}
.tab-btn.active {
  color: var(--text);
  border-color: #000;
}
.dark .tab-btn.active {
  border-color: #e5e5e5;
}

@layer utilities {
  .hidden-scrollbar {
    -ms-overflow-style: none; /* IE, Edge 対応 */
    scrollbar-width: none; /* Firefox 対応 */
  }
  .hidden-scrollbar::-webkit-scrollbar {
    /* Chrome, Safari 対応 */
    display: none;
  }
}